"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(G,f,l)=>{l.r(f),l.d(f,{HomePageModule:()=>y});var m=l(177),r=l(4742),g=l(4341),_=l(8986),u=l(467),c=l(9969),e=l(4438),v=l(9885),h=l(369),p=l(4796);const k=o=>({userId:o}),b=o=>["/calendario",o];function F(o,s){if(1&o){const i=e.RV6();e.j41(0,"div")(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"ion-button",14),e.bIt("click",function(){e.eBV(i);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.iniciarEdicion(n))}),e.EFF(4,"Editar"),e.k0s(),e.j41(5,"ion-button",14),e.bIt("click",function(){e.eBV(i);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.eliminarNota(n.id))}),e.EFF(6,"Eliminar"),e.k0s()()}if(2&o){const i=e.XpG().$implicit;e.R7$(2),e.JRh(i.contenido)}}function M(o,s){if(1&o){const i=e.RV6();e.j41(0,"div")(1,"ion-textarea",15),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(3);return e.DH7(a.nuevoContenido,n)||(a.nuevoContenido=n),e.Njj(n)}),e.EFF(2," -------------------------------------------------- "),e.k0s(),e.j41(3,"ion-button",14),e.bIt("click",function(){e.eBV(i);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.guardarEdicion(n))}),e.EFF(4,"Guardar"),e.k0s(),e.j41(5,"ion-button",14),e.bIt("click",function(){e.eBV(i);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.cancelarEdicion(n))}),e.EFF(6,"Cancelar"),e.k0s()()}if(2&o){const i=e.XpG(3);e.R7$(),e.R50("ngModel",i.nuevoContenido)}}function N(o,s){if(1&o&&(e.j41(0,"ion-item",13),e.DNE(1,F,7,1,"div",10)(2,M,7,1,"div",10),e.k0s()),2&o){const i=s.$implicit;e.R7$(),e.Y8G("ngIf",!i.editando),e.R7$(),e.Y8G("ngIf",i.editando)}}function j(o,s){if(1&o&&(e.j41(0,"ion-list"),e.DNE(1,N,3,2,"ion-item",12),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.notasUsuarioActual)}}function C(o,s){if(1&o){const i=e.RV6();e.j41(0,"ion-fab",16)(1,"ion-fab-button",17),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.AlternarVentanas())}),e.nrm(2,"ion-icon",18),e.k0s()()}}function H(o,s){if(1&o){const i=e.RV6();e.j41(0,"div")(1,"ion-item")(2,"ion-label",19),e.EFF(3,"Agregar nueva nota"),e.k0s(),e.j41(4,"ion-textarea",20),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.nuevaNota,n)||(a.nuevaNota=n),e.Njj(n)}),e.k0s()(),e.j41(5,"ion-button",8),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.agregarNota(n.nuevaNota))}),e.EFF(6,"Agregar Nota"),e.k0s(),e.j41(7,"ion-button",8),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.AlternarVentanas())}),e.EFF(8,"Cancelar"),e.k0s()()}if(2&o){const i=e.XpG();e.R7$(4),e.R50("ngModel",i.nuevaNota)}}const P=[{path:"",component:(()=>{var o;class s{constructor(t,n,a,d){this.userService=t,this.router=n,this.storage=a,this.auth=d,this.nuevaNota="",this.usuarioActual=null,this.notasUsuarioActual=[],this.nuevoContenido="",this.isDarkMode=!1,this.contenedovisible="listaNotas",this.estadoVentanaNota=!1}ngOnInit(){var t=this;return(0,u.A)(function*(){yield t.storage.create(),t.loadTheme(),t.usuarioActual=yield t.userService.getUsuarioActual(),yield t.userService.CrearListaNotasUser(),t.notasUsuarioActual=yield t.userService.ObtenerNotas()})()}toggleTheme(){var t=this;return(0,u.A)(function*(){t.isDarkMode=!t.isDarkMode,t.applyTheme(t.isDarkMode),yield t.storage.set("darkMode",t.isDarkMode)})()}loadTheme(){var t=this;return(0,u.A)(function*(){const n=yield t.storage.get("darkMode");t.isDarkMode=null!==n&&n,t.applyTheme(t.isDarkMode)})()}applyTheme(t){const n=document.body;t?n.classList.add("dark"):n.classList.remove("dark")}agregarNota(t){var n=this;return(0,u.A)(function*(){""!==t.trim()?(yield n.userService.AgregarNotaUser(t),n.notasUsuarioActual=yield n.userService.ObtenerNotas(),n.nuevaNota="",n.AlternarVentanas()):console.error("La nota no puede estar vac\xeda.")})()}eliminarNota(t){var n=this;return(0,u.A)(function*(){yield n.userService.EliminarNota(t),n.notasUsuarioActual=yield n.userService.ObtenerNotas()})()}editarNota(t,n){var a=this;return(0,u.A)(function*(){""!==n.trim()?(yield a.userService.ModificarNota(t,n),a.notasUsuarioActual=yield a.userService.ObtenerNotas()):console.error("El contenido no puede estar vac\xedo.")})()}iniciarEdicion(t){t.editando=!0,this.nuevoContenido=t.contenido}guardarEdicion(t){var n=this;return(0,u.A)(function*(){""!==n.nuevoContenido.trim()?(yield n.editarNota(t.id,n.nuevoContenido),t.editando=!1,n.nuevoContenido=""):console.error("El contenido no puede estar vac\xedo.")})()}cancelarEdicion(t){t.editando=!1,this.nuevoContenido=""}cerrarSesion(){var t=this;return(0,u.A)(function*(){yield t.userService.CerrarSesion(),t.router.navigate(["/login"])})()}AlternarVentanas(){this.estadoVentanaNota=!this.estadoVentanaNota,this.contenedovisible=this.estadoVentanaNota?"nuevaNota":"listaNotas"}}return(o=s).\u0275fac=function(t){return new(t||o)(e.rXU(v.D),e.rXU(_.Ix),e.rXU(h.w),e.rXU(p.u))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:33,vars:13,consts:[[3,"translucent"],["slot","start"],[1,"center-title"],[3,"fullscreen"],["contentId","main-content"],[1,"ion-padding","center-content"],[3,"ngModelChange","ionChange","ngModel"],["expand","full",3,"routerLink"],["expand","full",3,"click"],["id","main-content",1,"ion-page"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["color","dark",3,"click"],["rows","6","placeholder","Editar nota",3,"ngModelChange","ngModel"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"botonMas",3,"click"],["name","add"],["position","floating"],["rows","3",3,"ngModelChange","ngModel"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-menu",4)(8,"ion-header")(9,"ion-toolbar")(10,"ion-title"),e.EFF(11,"Contenido del Men\xfa"),e.k0s()()(),e.j41(12,"ion-content",5)(13,"h3"),e.EFF(14),e.k0s(),e.j41(15,"h4"),e.EFF(16,"Activar modo claro u oscuro"),e.k0s(),e.j41(17,"ion-toggle",6),e.mxI("ngModelChange",function(d){return e.DH7(n.isDarkMode,d)||(n.isDarkMode=d),d}),e.bIt("ionChange",function(){return n.toggleTheme()}),e.k0s(),e.j41(18,"ion-button",7),e.EFF(19," Ir al Calendario "),e.k0s(),e.j41(20,"ion-button",8),e.bIt("click",function(){return n.cerrarSesion()}),e.EFF(21,"Cerrar sesi\xf3n"),e.k0s()()(),e.j41(22,"div",9)(23,"ion-header")(24,"ion-toolbar")(25,"ion-title"),e.EFF(26,"Notas"),e.k0s()()(),e.j41(27,"ion-content",5)(28,"h2"),e.EFF(29,"\xbfQu\xe9 escribir\xe1s hoy?"),e.k0s(),e.DNE(30,j,2,1,"ion-list",10)(31,C,3,0,"ion-fab",11)(32,H,9,1,"div",10),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(5),e.SpI(" Bienvenido ",n.usuarioActual," "),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(8),e.JRh(n.usuarioActual),e.R7$(3),e.R50("ngModel",n.isDarkMode),e.R7$(),e.Y8G("routerLink",e.eq3(11,b,e.eq3(9,k,n.usuarioActual))),e.R7$(12),e.Y8G("ngIf","listaNotas"===n.contenedovisible),e.R7$(),e.Y8G("ngIf","listaNotas"===n.contenedovisible),e.R7$(),e.Y8G("ngIf","nuevaNota"===n.contenedovisible))},dependencies:[m.Sq,m.bT,g.BC,g.vS,r.Jm,r.QW,r.W9,r.Q8,r.YW,r.eU,r.iq,r.uz,r.he,r.nf,r.oS,r.MC,r.nc,r.BC,r.BY,r.ai,r.hB,r.Gw,r.N7,_.Wk],styles:['@import"https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap";*[_ngcontent-%COMP%]{font-family:Indie Flower,cursive;font-weight:400;font-style:normal;box-sizing:border-box}body[_ngcontent-%COMP%]{--background-color: aquamarine !important}ion-header[_ngcontent-%COMP%]{--background: linear-gradient(45deg, #83c5ff, #aafec5) !important}'],data:{animation:[(0,c.hZ)("slideInOut",[(0,c.wk)("in",(0,c.iF)({transform:"translateX(0)"})),(0,c.wk)("out",(0,c.iF)({transform:"translateX(100%)"})),(0,c.kY)("void => in",[(0,c.iF)({transform:"translateX(-100%)"}),(0,c.i0)("300ms ease-in")]),(0,c.kY)("in => void",[(0,c.i0)("300ms ease-out",(0,c.iF)({transform:"translateX(100%)"}))])])]}}),s})()}];let E=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[_.iI.forChild(P),_.iI]}),s})(),y=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[m.MD,g.YN,r.bv,E]}),s})()}}]);